{"version":3,"sources":["canvas.js"],"names":[],"mappings":"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","file":"canvas-compiled.js","sourcesContent":["\"use strict\";\n\ndocument.addEventListener('DOMContentLoaded', function () {\n\n    let arcomageDiv = document.getElementById(\"arcomage\");\n\n    let canvas = new fabric.Canvas(\"arcomage_canvas\");\n    let canvasWidth = getElementWidth(arcomageDiv);\n    let canvasHeight = getElementHeight(arcomageDiv);\n    canvas.setDimensions({width: canvasWidth, height: canvasHeight});\n\n\n    /*let loadImages = new Promise(function (resolve, reject) {\n        let imagesArray = [];\n\n        for (let i = 0, cardsArrayLength = getCardsNames().length; i < cardsArrayLength; i++) {\n            let img = new Image();\n            img.src = CARDS[getCardsNames()[i]].src;\n            img.onload = function () {\n                imagesArray.push(img);\n            };\n        }\n        resolve(imagesArray);\n    });*/\n\n\n    function drawCards() {\n\n        let padding = 5;\n        let cardsValues = {\n            \"red\": {\n                \"color\": \"#e74c3c\",\n                \"textColor\": \"#34495e\",\n                \"price\": \"bricks\"\n            },\n            \"blue\": {\n                \"color\": \"#3498db\",\n                \"textColor\": \"#34495e\",\n                \"price\": \"gems\"\n            },\n            \"green\": {\n                \"color\": \"#1abc9c\",\n                \"textColor\": \"#34495e\",\n                \"price\": \"beasts\"\n            }\n        };\n\n        for (let i = 0, cardsArrayLength = getCardsNames().length; i < cardsArrayLength; i++) {\n\n            let cardName = getCardsNames()[i];\n            let card = CARDS[cardName];\n            //let img = document.getElementById(cardName);\n            let descriptionLength = card.description.length;\n\n            let mainBody = new fabric.Rect({\n                width: 150,\n                height: 200,\n                fill: cardsValues[card.type].color,\n                stroke: cardsValues[card.type].textColor,\n                strokeWidth: 1,\n                rx: 3,\n                ry: 3,\n                originX: 'right',\n                originY: 'top'\n            });\n            let mainText = new fabric.Text(card.text[\"ru\"], {\n                fontSize: 14,\n                width: 150,\n                left: -140,\n                top: 115,\n                fill: cardsValues[card.type].textColor\n            });\n            let descriptionText = new fabric.Text(card.description, {\n                fontSize: 16,\n                width: 150,\n                left: -140,\n                top: 5,\n                fill: cardsValues[card.type].textColor,\n                textAlign: \"center\"\n            });\n            let priceText = new fabric.Text(card.price[cardsValues[card.type].price].toString(), {\n                fontSize: 18,\n                left: -22,\n                top: 174,\n                fill: cardsValues[card.type].textColor\n            });\n            let circle = new fabric.Circle({\n                radius: 12,\n                fill: cardsValues[card.type].color,\n                stroke: cardsValues[card.type].textColor,\n                strokeWidth: 1,\n                left: -30,\n                top: 171\n            });\n\n            let img = new Image();\n            img.src = card.src;\n            let image = new fabric.Image(img, {\n                left: -120,\n                top: 30\n            });\n\n            let group = new fabric.Group([mainBody, descriptionText, image, mainText, circle, priceText], {\n                left: padding,\n                top: canvasHeight - mainBody.getHeight() - 2 * padding,\n                selectable: true,\n                hoverCursor: \"pointer\"\n            });\n\n            group.on('mousedown', function () {\n                console.log('mousedown');\n            });\n            group.on('mouseover', function () {\n                console.log('mouseover');\n                group.top -= 5;\n                canvas.renderAll();\n            });\n            group.on('mouseout', function () {\n                console.log('mouseout');\n                group.top += 5;\n                canvas.renderAll();\n            });\n\n\n            CARDS[cardName].object = group;\n        }\n    }\n//addCardsImagesToHtml();\n    drawCards();\n//console.log(CARDS);\n//canvas.add(CARDS[\"amethyst\"].object);\n//canvas.renderAll();\n\n    canvas.add(CARDS[\"amethyst\"].object);\n    canvas.add(CARDS[\"great_wall\"].object);\n    canvas.add(CARDS[\"werewolf\"].object);\n\n});\n\n"]}